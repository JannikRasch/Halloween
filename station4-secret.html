<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Geheimnis der Rune des Opfers</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=UnifrakturCook:wght@700&display=swap');
    body {
      background: radial-gradient(circle at 20% 20%, #0a0a0a, #000);
      color: #ddd;
      font-family: 'Cinzel Decorative', cursive;
      text-align: center;
      padding: 2em 1em;
      min-height: 100vh;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }
    h1 {
      font-size: 2em;
      letter-spacing: 3px;
      text-shadow: 0 0 10px #f08c8c88;
      margin-bottom: 20px;
    }

    /* --- Chalkboard / Tafel --- */
    .chalkboard {
      width: 92%;
      max-width: 920px;
      background: linear-gradient(180deg,#0b1410 0%, #0f1913 100%);
      border-radius: 10px;
      padding: 18px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.7), inset 0 2px 0 rgba(255,255,255,0.02);
      margin: 12px auto;
      color: #cfe7d0;
      text-align: left;
      border: 1px solid rgba(255,255,255,0.02);
    }
    .chalkboard .row {
      display: flex;
      gap: 12px;
      align-items: center;
      flex-wrap: wrap;
    }
    .rune-card {
      width: 80px;
      height: 80px;
      background: rgba(255,255,255,0.02);
      border-radius: 8px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #9fb39b;
      font-size: 1.35rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.6);
      position: relative;
      transition: all .18s ease;
      border: 1px solid rgba(255,255,255,0.02);
    }
    .rune-card.dim { opacity: 0.45; filter: grayscale(.2); }
    .rune-char { font-family: 'UnifrakturCook', cursive; font-size: 1.6rem; display:block; }
    .rune-phon { font-size: 0.9rem; margin-top:6px; color:#dbeadb; letter-spacing:0.8px; font-weight:600; }
    .rune-input {
      width: 44px;
      padding: 4px 6px;
      border-radius: 6px;
      border: 1px solid rgba(255,255,255,0.06);
      background: rgba(0,0,0,0.25);
      color: #e9f7ee;
      text-align:center;
      text-transform:uppercase;
      font-weight:700;
      outline: none;
    }
    .rune-card.lit {
      color: #00bfff;
      text-shadow: 0 0 12px #00bfff88, 0 0 28px #00bfff55;
      transform: translateY(-4px) scale(1.03);
      box-shadow: 0 8px 28px #00bfff22, 0 0 30px #00bfff33;
      opacity: 1;
      filter: none;
    }
    .chalkboard .bottom-line {
      margin-top: 12px;
      font-family: 'UnifrakturCook', cursive;
      color: rgba(175,210,190,0.85);
      font-size: 1rem;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
      padding: 8px;
      border-radius: 6px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      white-space: pre-wrap;
    }

    /* responsive */
    @media (max-width:720px) {
      .rune-card { width: 64px; height: 64px; font-size: 1.1rem; }
      .rune-phon { font-size: 0.8rem; }
    }

    /* rest of original styles (kept as before) */
    button {
      background: #111;
      color: #f08181;
      border: 2px solid #f08c8c88;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-family: 'Cinzel Decorative', cursive;
      transition: all 0.3s;
    }
    button:hover {
      background: #f08c8c22;
      transform: scale(1.05);
    }
    input {
      background: #222;
      color: #f08c8c;
      border: 1px solid #555;
      border-radius: 5px;
      padding: 8px;
      text-align: center;
      font-size: 1.1em;
      margin-top: 20px;
    }
    #secret {
      display: none;
      margin-top: 30px;
      animation: fadeIn 1s ease forwards;
      max-width: 80%;
      line-height: 1.5;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    .runes {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      overflow-y: auto;
      z-index: -1;
    }
    .rune {
      position: absolute;
      font-family: 'UnifrakturCook', cursive;
      color: #f08c8c33;
      font-size: 2rem;
      animation: floatRunes linear infinite;
      opacity: 0.6;
    }
    @keyframes floatRunes {
      from { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10% { opacity: 0.7; }
      90% { opacity: 0.7; }
      to { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="runes" id="runes"></div>
  <h1>Geheimnis der Rune des Opfers</h1>
  <div>
    <h2>Runenentschlüsselung:</h2>

    <!-- neue Tafel mit Runen -->
    <div class="chalkboard" role="region" aria-label="Runentafel mit Lauten und Eingabefeldern">
      <div class="row" id="runeBoard"></div>

      <div class="bottom-line" id="runeSentence">
ᚹᛖᚾᚾ ᛞᛖᚱ ᛗᛟᚾᛞ ᚠᛖᛚᛚᛏ ᚢᚾᛞ ᛞᚨᛏ ᛒᛚᚢᛏ ᛞᛁᛖ ᛖᚱᛞᛖ ᚲᚢᛋᛏ, ᚹᛁᚱᛞ ᛞᛖᚱ ᚲᚱᛖᛁᛋ ᛋᛁᚲᚺ ᛋᛚᛁᛖᛋᛖᚾ.
      </div>
    </div>
    <!-- Ende Tafel -->

    <p></p>
    <button onclick="window.history.back()">Zurück</button>

  <script>
    // Runen-Alphabet + bekannte Laute (null = Lücke / Eingabe erforderlich)
    const runeAlphabet = [
      {r:'ᚠ', p:'F'},
      {r:'ᚢ', p:null},
      {r:'ᚦ', p:'TH'},
      {r:'ᚨ', p:null},
      {r:'ᚱ', p:'R'},
      {r:'ᚲ', p:'K'},
      {r:'ᚹ', p:'W'},
      {r:'ᚺ', p:'H'},
      {r:'ᚾ', p:null},
      {r:'ᛃ', p:'J'},
      {r:'ᛇ', p:'Y'},
      {r:'ᛈ', p:'P'},
      {r:'ᛉ', p:'Z'},
      {r:'ᛋ', p:'S'},
      {r:'ᛏ', p:'T'},
      {r:'ᛒ', p:'B'},
      {r:'ᛖ', p:null},
      {r:'ᛗ', p:'M'},
      {r:'ᛚ', p:'L'},
      {r:'ᛜ', p:'NG'},
      {r:'ᛞ', p:null},
      {r:'ᛟ', p:null}
    ];

    const board = document.getElementById('runeBoard');

    function createRuneCard(item){
      const card = document.createElement('div');
      card.className = 'rune-card' + (item.p ? ' lit' : ' dim');
      card.dataset.rune = item.r;

      const runeChar = document.createElement('span');
      runeChar.className = 'rune-char';
      runeChar.textContent = item.r;
      card.appendChild(runeChar);

      if(item.p){
        const phon = document.createElement('span');
        phon.className = 'rune-phon';
        phon.textContent = item.p;
        card.appendChild(phon);
      } else {
        const input = document.createElement('input');
        input.className = 'rune-input';
        input.setAttribute('maxlength','3');
        input.setAttribute('placeholder','?');
        // aria
        input.setAttribute('aria-label','Lücke für ' + item.r);
        // prüfung
        input.addEventListener('input', (e) => {
          const val = e.target.value.trim().toUpperCase();
          const expected = runeAnswers[item.r]; // expected string
          if(!val) {
            card.classList.remove('lit');
            card.classList.add('dim');
            return;
          }
          if(expected && val === expected.toUpperCase()){
            card.classList.add('lit');
            card.classList.remove('dim');
            e.target.disabled = true;
            e.target.value = expected; // format nicely
          } else {
            card.classList.remove('lit');
            card.classList.add('dim');
          }
        });
        card.appendChild(input);
      }
      return card;
    }

    // erwartete Antworten für Lücken (wenn du andere Antworten willst, passe hier an)
    const runeAnswers = {
      'ᚢ':'U',
      'ᚨ':'A',
      'ᛟ':'O',
      'ᚾ':'N',
      'ᛖ':'E',
      'ᛞ':'D'
    };

    // Erzeuge Tafelfelder
    runeAlphabet.forEach(item => {
      board.appendChild(createRuneCard(item));
    });

    // optional: Tastaturfreundlich: Enter im Input setzt Fokus auf nächstes
    board.addEventListener('keydown', (e) => {
      if(e.key === 'Enter' && e.target.classList.contains('rune-input')){
        const inputs = Array.from(board.querySelectorAll('.rune-input'));
        const idx = inputs.indexOf(e.target);
        if(idx >= 0 && idx < inputs.length -1) inputs[idx+1].focus();
      }
    });
  </script>

      <script>
    const runes = ['ᚠ','ᚢ','ᚦ','ᚨ','ᚱ','ᚲ','ᚺ','ᚾ','ᛃ','ᛇ','ᛈ','ᛉ','ᛋ','ᛏ','ᛒ','ᛖ','ᛗ','ᛚ','ᛜ','ᛞ','ᛟ'];
    const runesContainer = document.getElementById('runes');
    for(let i=0; i<40; i++){
      const el = document.createElement('div');
      el.classList.add('rune');
      el.textContent = runes[Math.floor(Math.random()*runes.length)];
      el.style.left = Math.random()*100 + 'vw';
      el.style.animationDuration = (8 + Math.random()*10) + 's';
      el.style.animationDelay = Math.random()*5 + 's';
      runesContainer.appendChild(el);
    }
  </script>
</body>
</html>